{"ast":null,"code":"import _classCallCheck from\"C:/Users/79649/dev/mesto-react/mesto/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/79649/dev/mesto-react/mesto/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var url=_ref.url,headers=_ref.headers;_classCallCheck(this,Api);this._url=url;this._headers=headers;}_createClass(Api,[{key:\"_requestResult\",value:function _requestResult(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status,\" \").concat(res.statusText));}}},{key:\"getInitialCards\",value:function getInitialCards(){var _this=this;return fetch(\"\".concat(this._url,\"/cards\"),{headers:this._headers}).then(function(res){return _this._requestResult(res);});}},{key:\"getProfile\",value:function getProfile(){var _this2=this;return fetch(\"\".concat(this._url,\"/users/me\"),{headers:this._headers}).then(function(res){return _this2._requestResult(res);});}},{key:\"editProfile\",value:function editProfile(name,about){var _this3=this;return fetch(\"\".concat(this._url,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(function(res){return _this3._requestResult(res);});}},{key:\"addCard\",value:function addCard(name,link){var _this4=this;return fetch(\"\".concat(this._url,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(function(res){return _this4._requestResult(res);});}},{key:\"deleteCard\",value:function deleteCard(id){var _this5=this;return fetch(\"\".concat(this._url,\"/cards/\").concat(id),{method:'DELETE',headers:this._headers}).then(function(res){return _this5._requestResult(res);});}},{key:\"editAvatar\",value:function editAvatar(avatar){var _this6=this;return fetch(\"\".concat(this._url,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(function(res){return _this6._requestResult(res);});}},{key:\"deleteLike\",value:function deleteLike(id){var _this7=this;return fetch(\"\".concat(this._url,\"/cards/\").concat(id,\"/likes \"),{method:'DELETE',headers:this._headers}).then(function(res){return _this7._requestResult(res);});}},{key:\"addLike\",value:function addLike(id){var _this8=this;return fetch(\"\".concat(this._url,\"/cards/\").concat(id,\"/likes \"),{method:'PUT',headers:this._headers}).then(function(res){return _this8._requestResult(res);});}}]);return Api;}();export var api=new Api({url:'https://mesto.nomoreparties.co/v1/cohort-55',headers:{authorization:'41f9f9e3-d2ec-4659-9c48-5afdcb2e1b41','Content-Type':'application/json'}});","map":{"version":3,"names":["Api","url","headers","_url","_headers","res","ok","json","Promise","reject","status","statusText","fetch","then","_requestResult","name","about","method","body","JSON","stringify","link","id","avatar","api","authorization"],"sources":["C:/Users/79649/dev/mesto-react/mesto/src/utils/Api.js"],"sourcesContent":["class Api {\r\n  constructor({ url, headers }) {\r\n    this._url = url;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _requestResult(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(`Ошибка: ${res.status} ${res.statusText}`);\r\n    }\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: this._headers,\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  getProfile() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: this._headers,\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  editProfile(name, about) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about,\r\n      }),\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n  addCard(name, link) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        link,\r\n      }),\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n  editAvatar(avatar) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar,\r\n      }),\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n  deleteLike(id) {\r\n    return fetch(`${this._url}/cards/${id}/likes `, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n  addLike(id) {\r\n    return fetch(`${this._url}/cards/${id}/likes `, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-55',\r\n  headers: {\r\n    authorization: '41f9f9e3-d2ec-4659-9c48-5afdcb2e1b41',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}